import{d as B,r as h,b as o,o as s,h as y,w as t,e,q as I,a as v,t as r,s as K,l as Q,k as L,m as M,c as F,g as $,v as O,_ as R,x as T,f as i,i as U,p as D,F as j,y as z}from"./index-Cjo14g7w.js";import{a as G,u as E}from"./useQuery-DhdeBpba.js";import{P as A}from"./ProfileService-C9Al2csy.js";import{S as H}from"./SkillsDiagram-CFrlqmm1.js";import{C as J}from"./CourseCard-D_otJzXq.js";import{P as W}from"./ProjectCard-DT8atLhN.js";import{_ as X}from"./TokenCard.vue_vue_type_script_setup_true_lang-CFMQ_lLy.js";import{_ as Y}from"./AvatarPlaceholder.vue_vue_type_script_setup_true_lang-Cx4EBRUq.js";import{S as Z}from"./StudentService-CDkIBmjn.js";import"./api-client-BPzR9EGp.js";import"./base-url-qR72hEjy.js";import"./course-content-store-C_gMyo4q.js";const ee={class:"text-caption text-medium-emphasis"},te=B({__name:"ChangePassword",setup(N){const p=h(!1),b=h(!1),c=h(""),_=h(""),l=h("");async function q(){if(_==l)return;p.value=!0;const n=await A.changeUserPassword(c.value,_.value);K(n),p.value=!1,b.value=!1}return(n,a)=>{const d=o("v-btn"),f=o("v-text-field"),x=o("v-col"),C=o("v-row"),w=o("v-card-text"),S=o("v-divider"),k=o("v-spacer"),V=o("v-card-actions"),P=o("v-card"),g=o("v-dialog");return s(),y(g,{modelValue:b.value,"onUpdate:modelValue":a[4]||(a[4]=u=>b.value=u),"max-width":"600"},{activator:t(({props:u})=>[e(d,I({class:"align-self-start text-none","prepend-icon":"mdi-key",variant:"plain",density:"comfortable"},u,{text:n.$t("changePassword")}),null,16,["text"])]),default:t(()=>[e(P,{"prepend-icon":"mdi-key",title:n.$t("changePassword")},{default:t(()=>[e(w,{class:"pa-0 px-6"},{default:t(()=>[e(C,{dense:""},{default:t(()=>[e(x,{cols:"12"},{default:t(()=>[e(f,{modelValue:c.value,"onUpdate:modelValue":a[0]||(a[0]=u=>c.value=u),label:`${n.$t("oldPassword")}*`,type:"password",required:""},null,8,["modelValue","label"])]),_:1}),e(x,{cols:"12"},{default:t(()=>[e(f,{modelValue:_.value,"onUpdate:modelValue":a[1]||(a[1]=u=>_.value=u),label:`${n.$t("password")}*`,type:"password",required:""},null,8,["modelValue","label"])]),_:1}),e(x,{cols:"12"},{default:t(()=>[e(f,{modelValue:l.value,"onUpdate:modelValue":a[2]||(a[2]=u=>l.value=u),label:`${n.$t("confirmPassword")}*`,type:"password",required:""},null,8,["modelValue","label"])]),_:1})]),_:1}),v("small",ee,"*"+r(n.$t("indicatesRequiredField")),1)]),_:1}),e(S),e(V,null,{default:t(()=>[e(k),e(d,{text:"Close",variant:"plain",onClick:a[3]||(a[3]=u=>b.value=!1)}),e(d,{color:"primary",text:n.$t("save"),variant:"tonal",disabled:p.value,loading:p.value,onClick:q},null,8,["text","disabled","loading"])]),_:1})]),_:1},8,["title"])]),_:1},8,["modelValue"])}}}),ae=B({__name:"ConnectClassFormDialog",setup(N){const{t:p}=Q(),b=G(),c=h(!1),_=h(!1),l=h({code:""}),q=L(()=>l.value.code),n=async()=>{if(!q.value)return alert(p("pleaseFillInAllFields"));_.value=!0;try{await Z.connectClass(l.value.code),c.value=!1,alert(`${p("Successfully connected to class!")}`),b.invalidateQueries({queryKey:["user/me"]})}catch(a){alert(`${p("failedToAddClass")}: ${a}`)}finally{_.value=!1}};return M(c,a=>{a==!1&&(l.value={code:""})}),(a,d)=>{const f=o("v-btn"),x=o("v-card-title"),C=o("v-text-field"),w=o("v-form"),S=o("v-card-text"),k=o("v-card-actions"),V=o("v-card"),P=o("v-dialog");return s(),F("div",null,[e(f,{color:"green",variant:"flat",onClick:d[0]||(d[0]=g=>c.value=!0)},{default:t(()=>[$(" Connect Class ")]),_:1}),e(P,{modelValue:c.value,"onUpdate:modelValue":d[3]||(d[3]=g=>c.value=g),"max-width":"600"},{default:t(()=>[e(V,{class:"pa-4"},{default:t(()=>[e(x,{class:"px-2"},{default:t(()=>[$(r(a.$t("Connect to Class")),1)]),_:1}),e(S,null,{default:t(()=>[e(w,{onSubmit:O(n,["prevent"])},{default:t(()=>[e(C,{modelValue:l.value.code,"onUpdate:modelValue":d[1]||(d[1]=g=>l.value.code=g),type:"text",density:"compact",label:a.$t("classCode"),placeholder:a.$t("Enter class code"),"prepend-inner-icon":"mdi-pencil",variant:"outlined",required:""},null,8,["modelValue","label","placeholder"])]),_:1})]),_:1}),e(k,null,{default:t(()=>[e(f,{color:"red darken-1",variant:"text",onClick:d[2]||(d[2]=g=>c.value=!1)},{default:t(()=>[$(r(a.$t("cancel")),1)]),_:1}),e(f,{loading:_.value,color:"green",variant:"flat",disabled:!q.value||_.value,onClick:n},{default:t(()=>[$(r(a.$t("connect")),1)]),_:1},8,["loading","disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}}),oe=R(ae,[["__scopeId","data-v-da298ef6"]]),le={key:0},ne={key:1},se={class:"text-h6 pb-4"},re={class:"text-h5 pt-4"},de={class:"text-body pa-2"},ie={class:"flex pt-4"},ce=v("div",{class:"text-h4"},"375xp",-1),ue={class:"text-h5 pb-4"},_e=v("br",null,null,-1),me=v("br",null,null,-1),pe={class:"text-h5 pb-4"},Pe=B({__name:"ProfileView",setup(N){const p=T(),b=()=>{z(),p.push({path:"/login"})},{isPending:c,isError:_,data:l,error:q}=E({queryKey:["user/profile"],queryFn:A.getUserProfile}),{data:n}=E({queryKey:["user/me"],queryFn:async()=>await A.getMe()});return(a,d)=>{const f=o("v-avatar"),x=o("v-icon"),C=o("v-btn"),w=o("v-card"),S=o("v-col"),k=o("v-card-title"),V=o("v-slide-group-item"),P=o("v-slide-group"),g=o("v-row"),u=o("v-container");return i(c)?(s(),F("div",le," Pending... ")):i(_)?(s(),F("div",ne,r(i(q)),1)):i(l)?(s(),y(u,{key:2,fluid:""},{default:t(()=>[e(g,{class:"px-16 py-8"},{default:t(()=>[e(S,{class:"flex-grow-0 flex-shrink-0"},{default:t(()=>[e(w,{class:"d-flex flex-column pa-6 w-72 justify-center align-center border-sm rounded-lg",variant:"flat"},{default:t(()=>[v("div",se,r(a.$t("personalDetails")),1),i(l).image!=null?(s(),y(f,{key:0,image:i(l).image,size:"120"},null,8,["image"])):(s(),y(Y,{key:1,big:!0})),v("div",re,r(i(l).name),1),v("div",de,r(i(l).login),1),v("div",ie,[e(C,{style:{"min-width":"0px",visibility:"hidden"},class:"pa-0 h-auto",variant:"flat",density:"compact"},{default:t(()=>[e(x,{color:"info",icon:"mdi-information"})]),_:1}),ce,e(C,{style:{"min-width":"0px"},class:"pa-0",variant:"flat",density:"compact"},{default:t(()=>[e(x,{color:"info",icon:"mdi-information"})]),_:1})]),e(H),i(n)&&i(n).role=="student"?(s(),y(oe,{key:2,class:"mb-2"})):U("",!0),e(te,{class:"mb-2"}),e(C,{class:"align-self-start text-none","prepend-icon":"mdi-logout",variant:"plain",density:"comfortable",onClick:b},{default:t(()=>[$(r(a.$t("signOut")),1)]),_:1})]),_:1})]),_:1}),e(S,{style:{"min-width":"100px","max-width":"100%"}},{default:t(()=>[v("div",ue,r(a.$t("experience")),1),e(w,{class:"d-flex flex-column pa-6 border-sm rounded-lg",variant:"flat"},{default:t(()=>[e(k,{class:"px-4 py-0 pb-2"},{default:t(()=>[$(r(a.$t("projects")),1)]),_:1}),e(P,{"show-arrows":""},{default:t(()=>[(s(!0),F(j,null,D(i(l).projects,m=>(s(),y(V,{key:m.id},{default:t(()=>[e(W,{class:"ma-2",project:m,flat:!0},null,8,["project"])]),_:2},1024))),128))]),_:1})]),_:1}),_e,e(w,{class:"d-flex flex-column pa-6 border-sm rounded-lg",variant:"flat"},{default:t(()=>[e(k,{class:"px-4 py-0 pb-2"},{default:t(()=>[$(r(a.$t("skills")),1)]),_:1}),e(P,{"show-arrows":""},{default:t(()=>[(s(!0),F(j,null,D(i(l).courses,m=>(s(),y(V,{key:m.id},{default:t(()=>[m.id!=13&&m.id!=14&&m.id!=18?(s(),y(J,{key:0,class:"ma-2",course:m,flat:!0},null,8,["course"])):U("",!0)]),_:2},1024))),128))]),_:1})]),_:1}),me,v("div",pe,r(a.$t("achievements")),1),e(w,{class:"d-flex flex-column pa-6 border-sm rounded-lg",variant:"flat"},{default:t(()=>[e(k,{class:"px-4 py-0 pb-2"},{default:t(()=>[$(r(a.$t("modules")),1)]),_:1}),e(P,{"show-arrows":""},{default:t(()=>[(s(!0),F(j,null,D(i(l).artisan_tokens,m=>(s(),y(V,{key:m.id},{default:t(()=>[e(X,{class:"ma-2",token:m},null,8,["token"])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):U("",!0)}}});export{Pe as default};
