import{d as D,r as w,b as a,o as d,h as x,w as t,e,p as N,a as v,t as i,s as E,k as I,l as Q,m as K,c as q,g as h,q as L,_ as O,v as R,f as _,i as A,n as F,F as U,x as T}from"./index-Dop57Fz-.js";import{a as z,u as M}from"./useQuery-Bpmlz4Uh.js";import{P as B}from"./ProfileService-xWSwdbEU.js";import{S as G}from"./SkillsDiagram-Dd4AIXh9.js";import{C as H}from"./CourseCard-4nA9t5IH.js";import{P as J}from"./ProjectCard-CYMSZ3Of.js";import{_ as W}from"./TokenCard.vue_vue_type_script_setup_true_lang-Bpp_QtIU.js";import{_ as X}from"./AvatarPlaceholder.vue_vue_type_script_setup_true_lang-Dbsf1u7-.js";import{S as Y}from"./StudentService-B-4jZezG.js";import"./api-client-DKgx13sC.js";import"./base-url-qR72hEjy.js";import"./course-content-store-Dvd530Wi.js";import"./yellow_star-CHjFodN-.js";const Z={class:"text-caption text-medium-emphasis"},ee=D({__name:"ChangePassword",setup(j){const m=w(!1),y=w(!1),c=w(""),u=w(""),s=w("");async function V(){if(u==s)return;m.value=!0;const n=await B.changeUserPassword(c.value,u.value);E(n),m.value=!1,y.value=!1}return(n,l)=>{const r=a("v-btn"),p=a("v-text-field"),f=a("v-col"),b=a("v-row"),P=a("v-card-text"),$=a("v-divider"),C=a("v-spacer"),k=a("v-card-actions"),S=a("v-card"),g=a("v-dialog");return d(),x(g,{modelValue:y.value,"onUpdate:modelValue":l[4]||(l[4]=o=>y.value=o),"max-width":"600"},{activator:t(({props:o})=>[e(r,N({class:"align-self-start text-none","prepend-icon":"mdi-key",variant:"plain",density:"comfortable"},o,{text:n.$t("changePassword")}),null,16,["text"])]),default:t(()=>[e(S,{"prepend-icon":"mdi-key",title:n.$t("changePassword")},{default:t(()=>[e(P,{class:"pa-0 px-6"},{default:t(()=>[e(b,{dense:""},{default:t(()=>[e(f,{cols:"12"},{default:t(()=>[e(p,{modelValue:c.value,"onUpdate:modelValue":l[0]||(l[0]=o=>c.value=o),label:`${n.$t("oldPassword")}*`,type:"password",required:""},null,8,["modelValue","label"])]),_:1}),e(f,{cols:"12"},{default:t(()=>[e(p,{modelValue:u.value,"onUpdate:modelValue":l[1]||(l[1]=o=>u.value=o),label:`${n.$t("password")}*`,type:"password",required:""},null,8,["modelValue","label"])]),_:1}),e(f,{cols:"12"},{default:t(()=>[e(p,{modelValue:s.value,"onUpdate:modelValue":l[2]||(l[2]=o=>s.value=o),label:`${n.$t("confirmPassword")}*`,type:"password",required:""},null,8,["modelValue","label"])]),_:1})]),_:1}),v("small",Z,"*"+i(n.$t("indicatesRequiredField")),1)]),_:1}),e($),e(k,null,{default:t(()=>[e(C),e(r,{text:"Close",variant:"plain",onClick:l[3]||(l[3]=o=>y.value=!1)}),e(r,{color:"primary",text:n.$t("save"),variant:"tonal",disabled:m.value,loading:m.value,onClick:V},null,8,["text","disabled","loading"])]),_:1})]),_:1},8,["title"])]),_:1},8,["modelValue"])}}}),te=D({__name:"ConnectClassFormDialog",setup(j){const{t:m}=I(),y=z(),c=w(!1),u=w(!1),s=w({code:""}),V=Q(()=>s.value.code),n=async()=>{if(!V.value)return alert(m("pleaseFillInAllFields"));u.value=!0;try{await Y.connectClass(s.value.code),c.value=!1,alert(`${m("Successfully connected to class!")}`),y.invalidateQueries({queryKey:["user/me"]})}catch(l){alert(`${m("failedToAddClass")}: ${l}`)}finally{u.value=!1}};return K(c,l=>{l==!1&&(s.value={code:""})}),(l,r)=>{const p=a("v-btn"),f=a("v-card-title"),b=a("v-text-field"),P=a("v-form"),$=a("v-card-text"),C=a("v-card-actions"),k=a("v-card"),S=a("v-dialog");return d(),q("div",null,[e(p,{color:"green",variant:"flat",onClick:r[0]||(r[0]=g=>c.value=!0)},{default:t(()=>[h(" Connect Class ")]),_:1}),e(S,{modelValue:c.value,"onUpdate:modelValue":r[3]||(r[3]=g=>c.value=g),"max-width":"600"},{default:t(()=>[e(k,{class:"pa-4"},{default:t(()=>[e(f,{class:"px-2"},{default:t(()=>[h(i(l.$t("Connect to Class")),1)]),_:1}),e($,null,{default:t(()=>[e(P,{onSubmit:L(n,["prevent"])},{default:t(()=>[e(b,{modelValue:s.value.code,"onUpdate:modelValue":r[1]||(r[1]=g=>s.value.code=g),type:"text",density:"compact",label:l.$t("classCode"),placeholder:l.$t("Enter class code"),"prepend-inner-icon":"mdi-pencil",variant:"outlined",required:""},null,8,["modelValue","label","placeholder"])]),_:1})]),_:1}),e(C,null,{default:t(()=>[e(p,{color:"red darken-1",variant:"text",onClick:r[2]||(r[2]=g=>c.value=!1)},{default:t(()=>[h(i(l.$t("cancel")),1)]),_:1}),e(p,{loading:u.value,color:"green",variant:"flat",disabled:!V.value||u.value,onClick:n},{default:t(()=>[h(i(l.$t("connect")),1)]),_:1},8,["loading","disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}}),ae=O(te,[["__scopeId","data-v-da298ef6"]]),oe={key:0},le={key:1},ne={class:"text-h6 pb-4"},se={class:"text-h5 pt-4"},re={class:"text-body pa-2"},de={class:"flex pt-4"},ie=v("div",{class:"text-h4"},"375xp",-1),ce={class:"text-h5 pb-4"},ue=v("br",null,null,-1),_e=v("br",null,null,-1),me={class:"text-h5 pb-4"},Pe=D({__name:"ProfileView",setup(j){const m=R(),y=()=>{T(),m.push({path:"/login"})},{isPending:c,isError:u,data:s,error:V}=M({queryKey:["user/profile"],queryFn:B.getUserProfile});return(n,l)=>{const r=a("v-avatar"),p=a("v-icon"),f=a("v-btn"),b=a("v-card"),P=a("v-col"),$=a("v-card-title"),C=a("v-slide-group-item"),k=a("v-slide-group"),S=a("v-row"),g=a("v-container");return _(c)?(d(),q("div",oe," Pending... ")):_(u)?(d(),q("div",le,i(_(V)),1)):_(s)?(d(),x(g,{key:2,fluid:""},{default:t(()=>[e(S,{class:"px-16 py-8"},{default:t(()=>[e(P,{class:"flex-grow-0 flex-shrink-0"},{default:t(()=>[e(b,{class:"d-flex flex-column pa-6 w-72 justify-center align-center border-sm rounded-lg",variant:"flat"},{default:t(()=>[v("div",ne,i(n.$t("personalDetails")),1),_(s).image!=null?(d(),x(r,{key:0,image:_(s).image,size:"120"},null,8,["image"])):(d(),x(X,{key:1,big:!0})),v("div",se,i(_(s).name),1),v("div",re,i(_(s).login),1),v("div",de,[e(f,{style:{"min-width":"0px",visibility:"hidden"},class:"pa-0 h-auto",variant:"flat",density:"compact"},{default:t(()=>[e(p,{color:"info",icon:"mdi-information"})]),_:1}),ie,e(f,{style:{"min-width":"0px"},class:"pa-0",variant:"flat",density:"compact"},{default:t(()=>[e(p,{color:"info",icon:"mdi-information"})]),_:1})]),e(G),e(ae,{class:"mb-2"}),e(ee,{class:"mb-2"}),e(f,{class:"align-self-start text-none","prepend-icon":"mdi-logout",variant:"plain",density:"comfortable",onClick:y},{default:t(()=>[h(i(n.$t("signOut")),1)]),_:1})]),_:1})]),_:1}),e(P,{style:{"min-width":"100px","max-width":"100%"}},{default:t(()=>[v("div",ce,i(n.$t("experience")),1),e(b,{class:"d-flex flex-column pa-6 border-sm rounded-lg",variant:"flat"},{default:t(()=>[e($,{class:"px-4 py-0 pb-2"},{default:t(()=>[h(i(n.$t("projects")),1)]),_:1}),e(k,{"show-arrows":""},{default:t(()=>[(d(!0),q(U,null,F(_(s).projects,o=>(d(),x(C,{key:o.id},{default:t(()=>[e(J,{class:"ma-2",project:o,flat:!0},null,8,["project"])]),_:2},1024))),128))]),_:1})]),_:1}),ue,e(b,{class:"d-flex flex-column pa-6 border-sm rounded-lg",variant:"flat"},{default:t(()=>[e($,{class:"px-4 py-0 pb-2"},{default:t(()=>[h(i(n.$t("skills")),1)]),_:1}),e(k,{"show-arrows":""},{default:t(()=>[(d(!0),q(U,null,F(_(s).courses,o=>(d(),x(C,{key:o.id},{default:t(()=>[o.id!=13&&o.id!=14&&o.id!=18?(d(),x(H,{key:0,class:"ma-2",course:o,flat:!0},null,8,["course"])):A("",!0)]),_:2},1024))),128))]),_:1})]),_:1}),_e,v("div",me,i(n.$t("achievements")),1),e(b,{class:"d-flex flex-column pa-6 border-sm rounded-lg",variant:"flat"},{default:t(()=>[e($,{class:"px-4 py-0 pb-2"},{default:t(()=>[h(i(n.$t("modules")),1)]),_:1}),e(k,{"show-arrows":""},{default:t(()=>[(d(!0),q(U,null,F(_(s).artisan_tokens,o=>(d(),x(C,{key:o.id},{default:t(()=>[e(W,{class:"ma-2",token:o},null,8,["token"])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):A("",!0)}}});export{Pe as default};
