import{d as T,k as U,r as b,q as R,e as t,l as s,o as c,c as _,f as e,g as n,h as l,t as u,n as F,a as o,p as v,D as H,E as M,_ as Y}from"./index-CrjHd5xO.js";import{u as $}from"./useQuery-CCmIIkMl.js";import{P as z}from"./ProjectService-GJPK8uq9.js";import{u as K}from"./api-Ck8zfvrJ.js";import{b as Q}from"./base-url-qR72hEjy.js";import{m as G}from"./marked-DhwVJeM6.js";import{g as J}from"./youtube-link-sanitizer-C9o3ZHbr.js";import"./api-client-DRkdRmLt.js";const p=i=>(H("data-v-d28b1dcb"),i=i(),M(),i),O={key:0,class:"p-8 text-center"},W=p(()=>o("p",null,"Loading...",-1)),X={key:1,class:"p-8 text-center"},Z=p(()=>o("strong",null,"Project:",-1)),tt=p(()=>o("strong",null,"Student:",-1)),et=p(()=>o("strong",null,"Date:",-1)),ot={key:0,class:"mb-4"},at=["src"],st={key:1,class:"text-center"},nt=["innerHTML"],rt=T({__name:"AssignmentContentView",setup(i){const r=U(),y=r.query.title||"Not available",g=r.query.studentName||"Not available",w=r.query.submitDate||"Not available",{fetchAPI:x}=K(),h=b(""),d=b(""),k=R(()=>G.parse(h.value)),{isPending:N,isError:S,data:I,error:P}=$({queryKey:["/projects/",r.params.id.toString()],queryFn:async()=>{try{const a=await z.getProjectByID(r.params.id.toString()),f=await x(`${Q}/${a.path}`).then(m=>m.text());return h.value=f,d.value=J(a.videoURL),a}catch(a){throw console.error("Error fetching project:",a),a}}});return(a,f)=>{const m=t("v-progress-circular"),V=t("v-alert"),j=t("v-card-title"),q=t("v-card-subtitle"),C=t("v-empty-state"),D=t("v-card-text"),L=t("v-btn"),A=t("v-card-actions"),B=t("v-card"),E=t("v-col");return s(N)?(c(),_("div",O,[e(m,{indeterminate:"",color:"primary"}),W])):s(S)?(c(),_("div",X,[e(V,{type:"error",dismissible:""},{default:n(()=>[l(u(s(P)),1)]),_:1})])):s(I)?(c(),F(E,{key:2,style:{"min-width":"300px","max-width":"100%"}},{default:n(()=>[e(B,{class:"pa-4 border-sm rounded-lg",variant:"flat"},{default:n(()=>[e(j),e(q,null,{default:n(()=>[o("p",null,[Z,l(" "+u(s(y)||"Not available"),1)]),o("p",null,[tt,l(" "+u(s(g)||"Not available"),1)]),o("p",null,[et,l(" "+u(s(w)||"Not available"),1)])]),_:1}),e(D,null,{default:n(()=>[d.value?(c(),_("div",ot,[o("iframe",{width:"100%",height:"370",src:d.value,title:"YouTube video player",frameborder:"0",allow:"clipboard-write; encrypted-media; picture-in-picture",allowfullscreen:""},null,8,at)])):v("",!0),d.value?v("",!0):(c(),_("div",st,[e(C,{headline:"Error",title:"Video not found",text:"Invalid video URL. Please check the link."})])),o("div",{innerHTML:k.value,class:"markdown-body mb-4"},null,8,nt)]),_:1}),e(A,{class:"justify-end"},{default:n(()=>[e(L,{color:"primary",variant:"elevated",class:"elevation-0"},{default:n(()=>[l("Approve")]),_:1})]),_:1})]),_:1})]),_:1})):v("",!0)}}}),vt=Y(rt,[["__scopeId","data-v-d28b1dcb"]]);export{vt as default};
