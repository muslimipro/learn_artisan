import{A as E}from"./artisan_logo-BSio2HZi.js";import{_ as U}from"./LocaleSwitcher.vue_vue_type_script_setup_true_lang-CW0v2YKL.js";import{s as $,A as y,d as L,r as p,j as P,B as S,h as B,w as l,b as o,o as T,e as a,g as u,f as A,a as w,t as m,_ as j}from"./index-DiwzRnS8.js";import{b as I}from"./base-url-qR72hEjy.js";function N(r){const e=new URLSearchParams;for(const t in r)r.hasOwnProperty(t)&&e.append(t,r[t]);return e.toString()}const z=async r=>{const e=await fetch(`${I}/token`,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:N(r)});if(e.status<200||e.status>=300)throw new Error(e.statusText);const t=await e.json();$(t),y.replace({path:"/projects"})},D={class:"text-subtitle-1 text-medium-emphasis"},O={class:"text-subtitle-1 text-medium-emphasis d-flex align-center justify-space-between"},F=L({__name:"LoginPage",setup(r){const e=p(!1),t=p(!1),i=p({}),v=async s=>{e.value=!0;try{await z(s)}catch(n){alert(`Failed: ${n}`)}finally{e.value=!1}},_=()=>{y.replace({path:"/signup"})},f=s=>{s.key==="Enter"&&v(i.value)};return P(()=>{window.addEventListener("keyup",f)}),S(()=>{window.removeEventListener("keyup",f)}),(s,n)=>{const b=o("v-spacer"),d=o("v-btn"),h=o("v-app-bar"),x=o("v-img"),g=o("v-text-field"),k=o("v-card"),V=o("v-container"),C=o("v-app");return T(),B(C,null,{default:l(()=>[a(h,{elevation:"0",class:"px-8"},{default:l(()=>[a(b),a(U),a(d,{class:"ml-4",color:"black",variant:"tonal",onClick:_},{default:l(()=>[u(" Sign Up ")]),_:1})]),_:1}),a(V,{class:"mt-12"},{default:l(()=>[a(x,{class:"mx-auto my-6","max-width":"64",src:A(E)},null,8,["src"]),a(k,{class:"mx-auto pa-12 pb-8",elevation:"8","max-width":"448",rounded:"lg"},{default:l(()=>[w("div",D,m(s.$t("email")),1),a(g,{modelValue:i.value.username,"onUpdate:modelValue":n[0]||(n[0]=c=>i.value.username=c),type:"email",density:"compact",placeholder:"Email address","prepend-inner-icon":"mdi-email-outline",variant:"outlined"},null,8,["modelValue"]),w("div",O,m(s.$t("password")),1),a(g,{modelValue:i.value.password,"onUpdate:modelValue":n[1]||(n[1]=c=>i.value.password=c),class:"mb-4","append-inner-icon":t.value?"mdi-eye-off":"mdi-eye",type:t.value?"text":"password",density:"compact",placeholder:"Enter your password","prepend-inner-icon":"mdi-lock-outline",variant:"outlined","onClick:appendInner":n[2]||(n[2]=c=>t.value=!t.value)},null,8,["modelValue","append-inner-icon","type"]),a(d,{loading:e.value,disabled:e.value,class:"mb-4",color:"black",size:"large",variant:"flat",block:"",onClick:n[3]||(n[3]=c=>v(i.value))},{default:l(()=>[u(m(s.$t("signIn")),1)]),_:1},8,["loading","disabled"]),a(d,{class:"no-uppercase",color:"black",size:"large",variant:"text",block:"",onClick:_},{default:l(()=>[u(" Don't have an account? ")]),_:1})]),_:1})]),_:1})]),_:1})}}}),H=j(F,[["__scopeId","data-v-9e317372"]]);export{H as default};
