import{u as F}from"./useQuery-VCkO930N.js";import{S as z}from"./StudentService-D9_mIzmb.js";import{_ as E}from"./AvatarPlaceholder.vue_vue_type_script_setup_true_lang-BoHM8TTG.js";import{S as T}from"./SkillsDiagram-Ct2tcQwd.js";import{_ as K}from"./TokenCard.vue_vue_type_script_setup_true_lang-DxSPSMoq.js";import{S as D}from"./SkillService-DKbpM-sK.js";import{d as V,q as R,r as N,e as a,o as s,n as d,g as t,f as e,a as l,c as _,t as i,p as C,l as n,F as $,i as I,z as L,h as P,_ as O,k as Q}from"./index-DZj9jcQQ.js";import"./api-client-BYJOZBEW.js";import"./base-url-qR72hEjy.js";const W={class:"relative image-container"},A={key:0,class:"absolute top-0 left-0 bg-yellow-400 text-black px-4 py-1 text-xs font-semibold"},G={class:"text-h5"},H={key:0},J=V({__name:"CourseProgressCard",props:{course:{}},setup(j){const x=j,o=R(()=>x.course),p=N([]);function b(c){return c=="completed"?"bg-green-darken-1":c=="attempted"?"bg-red-darken-1":c=="accessed"?"bg-grey-lighten-1":"bg-grey-lighten-2"}const{isPending:r,data:k}=F({queryKey:[`skill/${o.value.id}`],queryFn:async()=>{const c=await D.getCourseInfoByID(o.value.id.toString());for(const w of c.modules)for(const f of w.topics){const u=await D.getTopicByID(f.id.toString());p.value.push(...u.steps)}return console.log(o.value.id),console.log(p),c},refetchOnWindowFocus:!1,staleTime:0});return(c,w)=>{const f=a("v-img"),u=a("v-col"),v=a("v-row"),g=a("v-btn"),m=a("v-sheet"),S=a("v-card");return s(),d(S,{class:"pa-2 border-sm rounded-lg",variant:"flat",disabled:o.value.status!="green"},{default:t(()=>[e(v,null,{default:t(()=>[e(u,{cols:"12",sm:"5",class:"justify-start align-start"},{default:t(()=>[e(v,null,{default:t(()=>[l("div",W,[e(f,{height:"100",width:"175",src:o.value.cover_image,alt:o.value.name+" Image",cover:""},null,8,["src","alt"]),o.value.status!="green"?(s(),_("div",A,i(c.$t("comingSoon")),1)):C("",!0)]),e(u,{class:"justify-center align-center pl-4"},{default:t(()=>[l("div",G,i(o.value.name),1),l("div",null,i(o.value.description),1),l("div",null,i(`${o.value.completed_steps_count} / ${o.value.total_steps_count}`),1)]),_:1})]),_:1})]),_:1}),e(u,{cols:"12",sm:"7",class:"d-flex flex-column justify-center align-center"},{default:t(()=>[n(r)?(s(),_("div",H,"Pending...")):n(k)?(s(),d(m,{key:1,class:"d-flex align-content-start flex-wrap gap-1"},{default:t(()=>[(s(!0),_($,null,I(p.value,y=>(s(),d(g,{key:y.id,class:L(["small-btn ma-0 pa-0 w-3 h-3",b(y.progress)]),variant:"flat"},{default:t(()=>[P(i(y.id),1)]),_:2},1032,["class"]))),128))]),_:1})):C("",!0)]),_:1})]),_:1})]),_:1},8,["disabled"])}}}),M=O(J,[["__scopeId","data-v-64d89156"]]),U=l("div",{class:"text-h5 pb-6"},"Student Profile",-1),X={key:1},Y={key:2},Z={class:"text-h5 pt-4"},ee={class:"text-body"},te={class:"flex pt-2"},se=l("div",{class:"text-h4"},"375xp",-1),oe=l("br",null,null,-1),ne=l("br",null,null,-1),pe=V({__name:"StudentProfileView",setup(j){const x=Q(),o=N(x.params.id.toString()),{isPending:p,isError:b,data:r,error:k}=F({queryKey:["school/student",o.value,"profile"],queryFn:()=>z.getStudentProfile(o.value)});return(c,w)=>{const f=a("v-skeleton-loader"),u=a("v-avatar"),v=a("v-icon"),g=a("v-btn"),m=a("v-col"),S=a("v-row"),y=a("v-card");return s(),d(m,{style:{"min-width":"300px","max-width":"100%"}},{default:t(()=>{var B,q;return[U,n(p)?(s(),d(f,{key:0,type:"list-item-two-line"})):n(b)?(s(),_("div",X,i((B=n(k))==null?void 0:B.message),1)):n(r)?(s(),_("div",Y,[e(y,{class:"pa-6 border-sm rounded-lg",variant:"flat"},{default:t(()=>[e(S,null,{default:t(()=>[e(m,{cols:"12",sm:"4",class:"d-flex flex-column justify-center align-center"},{default:t(()=>[n(r).image!=null?(s(),d(u,{key:0,image:n(r).image,size:"120"},null,8,["image"])):(s(),d(E,{key:1,big:!0})),l("div",Z,i(n(r).name),1),l("div",ee,i(n(r).login),1),l("div",te,[e(g,{style:{"min-width":"0px",visibility:"hidden"},class:"pa-0 h-auto",variant:"flat",density:"compact"},{default:t(()=>[e(v,{color:"info",icon:"mdi-information"})]),_:1}),se,e(g,{style:{"min-width":"0px"},class:"pa-0",variant:"flat",density:"compact"},{default:t(()=>[e(v,{color:"info",icon:"mdi-information"})]),_:1})]),e(g,{class:"text-none py-2","prepend-icon":"mdi-pencil",variant:"plain",onClick:()=>{}},{default:t(()=>[P(i(c.$t("Edit profile")),1)]),_:1})]),_:1}),e(m,{cols:"12",sm:"4",class:"d-flex flex-column justify-center align-center"},{default:t(()=>[e(T)]),_:1}),e(m,{cols:"12",sm:"4",class:"d-flex flex-wrap justify-center align-center"},{default:t(()=>[(s(!0),_($,null,I(n(r).artisan_tokens,h=>(s(),d(K,{class:"ma-2",key:h.id,token:h,small:!0},null,8,["token"]))),128))]),_:1})]),_:1})]),_:1}),oe,(s(!0),_($,null,I(n(r).courses,h=>(s(),d(M,{course:h,class:"mb-2"},null,8,["course"]))),256)),P(" "+i((q=n(r))==null?void 0:q.projects.length)+" ",1),ne])):C("",!0)]}),_:1})}}});export{pe as default};
