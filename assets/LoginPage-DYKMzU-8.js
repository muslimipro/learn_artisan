import{_ as h}from"./LocaleSwitcher.vue_vue_type_script_setup_true_lang-6nRV7dQ4.js";import{s as k,A as V,d as $,r as p,h as C,w as d,b as o,o as P,e as n,f as S,a as m,t as c,g as T}from"./index-DpWsN0sI.js";import{b as U}from"./base-url-qR72hEjy.js";const B="/assets/artisan_logo-lZ2lJMKH.png";function E(s){const e=new URLSearchParams;for(const a in s)s.hasOwnProperty(a)&&e.append(a,s[a]);return e.toString()}const L=async s=>{const e=await fetch(`${U}/token`,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:E(s)});if(e.status<200||e.status>=300)throw new Error(e.statusText);const a=await e.json();k(a),V.replace({path:"/projects"})},A={class:"text-subtitle-1 text-medium-emphasis"},N={class:"text-subtitle-1 text-medium-emphasis d-flex align-center justify-space-between"},z=$({__name:"LoginPage",setup(s){const e=p(!1),a=p(!1),l=p({}),v=async r=>{e.value=!0;try{await L(r)}catch(t){alert(`Failed: ${t}`)}finally{e.value=!1}};return(r,t)=>{const _=o("v-spacer"),f=o("v-app-bar"),g=o("v-img"),u=o("v-text-field"),w=o("v-btn"),y=o("v-card"),b=o("v-container"),x=o("v-app");return P(),C(x,null,{default:d(()=>[n(f,{elevation:"0",class:"px-8"},{default:d(()=>[n(_),n(h)]),_:1}),n(b,{class:"mt-12"},{default:d(()=>[n(g,{class:"mx-auto my-6","max-width":"64",src:S(B)},null,8,["src"]),n(y,{class:"mx-auto pa-12 pb-8",elevation:"8","max-width":"448",rounded:"lg"},{default:d(()=>[m("div",A,c(r.$t("email")),1),n(u,{modelValue:l.value.username,"onUpdate:modelValue":t[0]||(t[0]=i=>l.value.username=i),type:"email",density:"compact",placeholder:"Email address","prepend-inner-icon":"mdi-email-outline",variant:"outlined"},null,8,["modelValue"]),m("div",N,c(r.$t("password")),1),n(u,{modelValue:l.value.password,"onUpdate:modelValue":t[1]||(t[1]=i=>l.value.password=i),class:"mb-4","append-inner-icon":a.value?"mdi-eye-off":"mdi-eye",type:a.value?"text":"password",density:"compact",placeholder:"Enter your password","prepend-inner-icon":"mdi-lock-outline",variant:"outlined","onClick:appendInner":t[2]||(t[2]=i=>a.value=!a.value)},null,8,["modelValue","append-inner-icon","type"]),n(w,{loading:e.value,disabled:e.value,class:"mb-4",color:"black",size:"large",variant:"flat",block:"",onClick:t[3]||(t[3]=i=>v(l.value))},{default:d(()=>[T(c(r.$t("signIn")),1)]),_:1},8,["loading","disabled"])]),_:1})]),_:1})]),_:1})}}});export{z as default};
