import{u as C}from"./useQuery-BssEjJEO.js";import{d as F,k as B,r as k,l as I,m as N,b as m,f as n,o as t,c as a,t as x,a as c,e as v,w as _,g as q,h as j,F as E,n as K,i as w}from"./index-CMFp1MV5.js";import{P as O}from"./ProjectService-CvmnoHdq.js";import{P as Q}from"./ProjectCard-BGFlyRGD.js";import{S as D}from"./SkillService-DqtmoxlQ.js";import{C as U}from"./CourseCard-uUtd7L0v.js";import"./api-client-BA5RWQCR.js";import"./base-url-qR72hEjy.js";import"./yellow_star-CHjFodN-.js";import"./course-content-store-BN91af0T.js";const W={key:0},z={key:1},A={key:2},H={class:"d-flex align-center justify-between"},J={class:"text-h5 pb-4"},X={class:"d-flex align-center"},Y={class:"flex flex-wrap gap-8",style:{width:"100%"}},Z=F({__name:"IntroProjectsView",props:{course:{}},setup(S){const{locale:i}=B(),r=k(i.value),f=S,e=I(()=>f.course),u=k([]),s=k({}),{isPending:y,isError:P,data:$,error:h,refetch:p}=C({queryKey:[`skill/intro/${e.value.id}`,r.value],queryFn:async()=>{const o=await D.getCourseInfoByID(e.value.id.toString());return u.value=o.modules[0].topics.map(l=>({id:e.value.id,name:l.name,description:"",cover_image:e.value.cover_image,prereqs:[],status:e.value.status,total_steps_count:e.value.total_steps_count,completed_steps_count:e.value.completed_steps_count,accessed_steps_count:e.value.accessed_steps_count,last_accessed_topic:e.value.last_accessed_topic})),o},refetchOnWindowFocus:!1});N([()=>i.value,()=>e.value.id],()=>{r.value=i.value,s.value[0]||(s.value[0]=0),p()},{immediate:!0});const V=o=>{s.value[o]>0&&s.value[o]--},g=(o,l)=>{s.value[o]<l-1&&s.value[o]++};return(o,l)=>{const b=m("v-icon"),L=m("v-slide-group-item"),R=m("v-slide-group"),T=m("v-col"),G=m("v-container");return n(y)?(t(),a("div",W," Pending... ")):n(P)?(t(),a("div",z,x(n(h)),1)):n($)?(t(),a("div",A,[c("div",H,[c("div",J,x(o.$t("introToRaspberryPiPico")),1),c("div",X,[v(b,{onClick:l[0]||(l[0]=d=>V(0)),class:"mr-2"},{default:_(()=>[q("mdi-chevron-left")]),_:1}),v(b,{onClick:l[1]||(l[1]=d=>g(0,u.value.length))},{default:_(()=>[q("mdi-chevron-right")]),_:1})])]),c("div",Y,[u.value.length>0?(t(),j(G,{key:0,fluid:"",class:"pa-0"},{default:_(()=>[v(T,{style:{"min-width":"100px","max-width":"100%"},class:"px-0 py-0"},{default:_(()=>[v(R,{modelValue:s.value[0],"onUpdate:modelValue":l[2]||(l[2]=d=>s.value[0]=d),mobile:"","center-active":""},{default:_(()=>[(t(!0),a(E,null,K(u.value,(d,M)=>(t(),j(L,{key:d.id},{default:_(()=>[v(U,{class:"mx-4 my-2",course:d,introIndex:M},null,8,["course","introIndex"])]),_:2},1024))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})):w("",!0)])])):w("",!0)}}}),ee={key:0},te={key:1},se={key:2,class:"flex-col w-full px-16 py-8"},oe=c("br",null,null,-1),le={class:"text-h5 pb-4"},ne={class:"flex flex-wrap justify-center px-4 gap-8"},ae=c("div",{class:"h-8"},null,-1),ye=F({__name:"ProjectsView",setup(S){const{locale:i}=B(),r=k(i.value),{data:f,refetch:e}=C({queryKey:["skills",r.value],queryFn:async()=>await D.getSkills(r.value)}),{isPending:u,isError:s,data:y,error:P,refetch:$}=C({queryKey:["projects",r.value],queryFn:async()=>await O.getProjects(r.value)}),h=I(()=>f.value==null?null:f.value[0].courses.find(p=>p.name=="Micropython")??null);return N(()=>i.value,()=>{r.value=i.value,e(),$()},{immediate:!0}),(p,V)=>n(u)?(t(),a("div",ee," Pending... ")):n(s)?(t(),a("div",te,x(n(P)),1)):n(y)?(t(),a("div",se,[h.value!=null?(t(),j(Z,{key:0,course:h.value},null,8,["course"])):w("",!0),oe,c("div",le,x(p.$t("projects")),1),c("div",ne,[(t(!0),a(E,null,K(n(y),g=>(t(),a("div",{key:g.id},[v(Q,{project:g},null,8,["project"])]))),128))]),ae])):w("",!0)}});export{ye as default};
