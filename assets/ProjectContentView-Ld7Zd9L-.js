import{u as b}from"./useQuery-eGzM9mGp.js";import{m as k}from"./marked-DhwVJeM6.js";import{P as g}from"./ProjectService-D1AHouHY.js";import{d as w,u as P,r as _,l as x,b as L,f as s,o as e,c as t,t as j,a as o,e as m,F as S,n as V,i as B}from"./index-BIzKhvK7.js";import{u as C}from"./api-D5YsHDbg.js";import{b as F}from"./base-url-qR72hEjy.js";import{_ as I}from"./TokenCard.vue_vue_type_script_setup_true_lang-BrPaF5_Y.js";import{g as T}from"./youtube-link-sanitizer-C9o3ZHbr.js";import"./api-client-CGNgyUH9.js";const U={key:0,class:"p-8"},E={key:1},N={key:2,class:"flex justify-center w-full bg-white"},R={class:"w-8/12 self-center"},$=o("br",null,null,-1),q={key:0},A=["src"],D=o("br",null,null,-1),H={class:"flex"},M=o("br",null,null,-1),Y=["innerHTML"],z=o("br",null,null,-1),oe=w({__name:"ProjectContentView",setup(K){const i=P(),{fetchAPI:p}=C(),l=_(""),r=_(""),f=x(()=>k.parse(l.value)),{isPending:h,isError:v,data:c,error:y}=b({queryKey:["/projects/",i.params.id.toString()],queryFn:async()=>{const n=await g.getProjectByID(i.params.id.toString()),u=await p(`${F}/${n.path}`).then(a=>a.text());return l.value=u,r.value=T(n.videoURL),n}});return(n,u)=>{const a=L("v-empty-state");return s(h)?(e(),t("div",U," Pending... ")):s(v)?(e(),t("div",E,j(s(y)),1)):s(c)?(e(),t("div",N,[o("div",R,[$,r.value==null?(e(),t("div",q,[m(a,{headline:"Error",title:"Video not found",text:"Invalid video URL. Please check the link."})])):(e(),t("iframe",{key:1,width:"100%",height:"370",src:r.value,title:"YouTube video player",frameborder:"0",allow:"clipboard-write; encrypted-media; picture-in-picture",allowfullscreen:""},null,8,A)),D,o("div",H,[(e(!0),t(S,null,V(s(c).artisan_tokens,d=>(e(),t("div",{class:"px-2",key:d.id},[m(I,{token:d},null,8,["token"])]))),128))]),M,o("div",{innerHTML:f.value,class:"content markdown-body"},null,8,Y),z])])):B("",!0)}}});export{oe as default};
