import{d as D,r as w,e as a,o as r,n as x,g as t,f as e,m as N,a as m,t as d,s as E,u as I,q as L,w as O,c as S,h,v as R,_ as T,x as z,l as u,i as F,F as U,p as A,y as K}from"./index-CrjHd5xO.js";import{u as M}from"./useQuery-CCmIIkMl.js";import{P as B}from"./ProfileService-CfeeGK_X.js";import{S as Q}from"./SkillsDiagram-YnndEaW_.js";import{C as G}from"./CourseCard-dKHGmqP1.js";import{P as H}from"./ProjectCard-ZPYTQ6FA.js";import{_ as J}from"./TokenCard.vue_vue_type_script_setup_true_lang-jF9c10pD.js";import{_ as W}from"./AvatarPlaceholder.vue_vue_type_script_setup_true_lang-DpGWbrOi.js";import{S as X}from"./StudentService-DggsMqXG.js";import"./api-client-DRkdRmLt.js";import"./base-url-qR72hEjy.js";import"./course-content-store-DNKMZPWm.js";import"./yellow_star-CHjFodN-.js";const Y={class:"text-caption text-medium-emphasis"},Z=D({__name:"ChangePassword",setup(j){const p=w(!1),i=w(!1),_=w(""),c=w(""),s=w("");async function V(){if(c==s)return;p.value=!0;const o=await B.changeUserPassword(_.value,c.value);E(o),p.value=!1,i.value=!1}return(o,n)=>{const v=a("v-btn"),b=a("v-text-field"),f=a("v-col"),y=a("v-row"),P=a("v-card-text"),$=a("v-divider"),C=a("v-spacer"),k=a("v-card-actions"),g=a("v-card"),q=a("v-dialog");return r(),x(q,{modelValue:i.value,"onUpdate:modelValue":n[4]||(n[4]=l=>i.value=l),"max-width":"600"},{activator:t(({props:l})=>[e(v,N({class:"align-self-start text-none","prepend-icon":"mdi-key",variant:"plain",density:"comfortable"},l,{text:o.$t("changePassword")}),null,16,["text"])]),default:t(()=>[e(g,{"prepend-icon":"mdi-key",title:o.$t("changePassword")},{default:t(()=>[e(P,{class:"pa-0 px-6"},{default:t(()=>[e(y,{dense:""},{default:t(()=>[e(f,{cols:"12"},{default:t(()=>[e(b,{modelValue:_.value,"onUpdate:modelValue":n[0]||(n[0]=l=>_.value=l),label:`${o.$t("oldPassword")}*`,type:"password",required:""},null,8,["modelValue","label"])]),_:1}),e(f,{cols:"12"},{default:t(()=>[e(b,{modelValue:c.value,"onUpdate:modelValue":n[1]||(n[1]=l=>c.value=l),label:`${o.$t("password")}*`,type:"password",required:""},null,8,["modelValue","label"])]),_:1}),e(f,{cols:"12"},{default:t(()=>[e(b,{modelValue:s.value,"onUpdate:modelValue":n[2]||(n[2]=l=>s.value=l),label:`${o.$t("confirmPassword")}*`,type:"password",required:""},null,8,["modelValue","label"])]),_:1})]),_:1}),m("small",Y,"*"+d(o.$t("indicatesRequiredField")),1)]),_:1}),e($),e(k,null,{default:t(()=>[e(C),e(v,{text:"Close",variant:"plain",onClick:n[3]||(n[3]=l=>i.value=!1)}),e(v,{color:"primary",text:o.$t("save"),variant:"tonal",disabled:p.value,loading:p.value,onClick:V},null,8,["text","disabled","loading"])]),_:1})]),_:1},8,["title"])]),_:1},8,["modelValue"])}}}),ee=D({__name:"ConnectClassFormDialog",setup(j){const{t:p}=I(),i=w(!1),_=w(!1),c=w({code:""}),s=L(()=>c.value.code),V=async()=>{if(!s.value)return alert(p("pleaseFillInAllFields"));_.value=!0;try{await X.connectClass(c.value.code),i.value=!1}catch(o){alert(`${p("failedToAddClass")}: ${o}`)}finally{_.value=!1}};return O(i,o=>{o==!1&&(c.value={code:""})}),(o,n)=>{const v=a("v-btn"),b=a("v-card-title"),f=a("v-text-field"),y=a("v-form"),P=a("v-card-text"),$=a("v-card-actions"),C=a("v-card"),k=a("v-dialog");return r(),S("div",null,[e(v,{color:"green",variant:"flat",onClick:n[0]||(n[0]=g=>i.value=!0)},{default:t(()=>[h(" Connect Class ")]),_:1}),e(k,{modelValue:i.value,"onUpdate:modelValue":n[3]||(n[3]=g=>i.value=g),"max-width":"600"},{default:t(()=>[e(C,{class:"pa-4"},{default:t(()=>[e(b,{class:"px-2"},{default:t(()=>[h(d(o.$t("Connect to Class")),1)]),_:1}),e(P,null,{default:t(()=>[e(y,{onSubmit:R(V,["prevent"])},{default:t(()=>[e(f,{modelValue:c.value.code,"onUpdate:modelValue":n[1]||(n[1]=g=>c.value.code=g),type:"text",density:"compact",label:o.$t("classCode"),placeholder:o.$t("Enter class code"),"prepend-inner-icon":"mdi-pencil",variant:"outlined",required:""},null,8,["modelValue","label","placeholder"])]),_:1})]),_:1}),e($,null,{default:t(()=>[e(v,{color:"red darken-1",variant:"text",onClick:n[2]||(n[2]=g=>i.value=!1)},{default:t(()=>[h(d(o.$t("cancel")),1)]),_:1}),e(v,{loading:_.value,color:"green",variant:"flat",disabled:!s.value||_.value,onClick:V},{default:t(()=>[h(d(o.$t("connect")),1)]),_:1},8,["loading","disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}}),te=T(ee,[["__scopeId","data-v-9f68bddd"]]),ae={key:0},oe={key:1},le={class:"text-h6 pb-4"},ne={class:"text-h5 pt-4"},se={class:"text-body pa-2"},re={class:"flex pt-4"},de=m("div",{class:"text-h4"},"375xp",-1),ie={class:"text-h5 pb-4"},ce=m("br",null,null,-1),ue=m("br",null,null,-1),_e={class:"text-h5 pb-4"},Ve=D({__name:"ProfileView",setup(j){const p=z(),i=()=>{K(),p.push({path:"/login"})},{isPending:_,isError:c,data:s,error:V}=M({queryKey:["user/profile"],queryFn:B.getUserProfile});return(o,n)=>{const v=a("v-avatar"),b=a("v-icon"),f=a("v-btn"),y=a("v-card"),P=a("v-col"),$=a("v-card-title"),C=a("v-slide-group-item"),k=a("v-slide-group"),g=a("v-row"),q=a("v-container");return u(_)?(r(),S("div",ae," Pending... ")):u(c)?(r(),S("div",oe,d(u(V)),1)):u(s)?(r(),x(q,{key:2,fluid:""},{default:t(()=>[e(g,{class:"px-16 py-8"},{default:t(()=>[e(P,{class:"flex-grow-0 flex-shrink-0"},{default:t(()=>[e(y,{class:"d-flex flex-column pa-6 w-72 justify-center align-center border-sm rounded-lg",variant:"flat"},{default:t(()=>[m("div",le,d(o.$t("personalDetails")),1),u(s).image!=null?(r(),x(v,{key:0,image:u(s).image,size:"120"},null,8,["image"])):(r(),x(W,{key:1,big:!0})),m("div",ne,d(u(s).name),1),m("div",se,d(u(s).login),1),m("div",re,[e(f,{style:{"min-width":"0px",visibility:"hidden"},class:"pa-0 h-auto",variant:"flat",density:"compact"},{default:t(()=>[e(b,{color:"info",icon:"mdi-information"})]),_:1}),de,e(f,{style:{"min-width":"0px"},class:"pa-0",variant:"flat",density:"compact"},{default:t(()=>[e(b,{color:"info",icon:"mdi-information"})]),_:1})]),e(Q),e(te,{class:"mb-2"}),e(Z,{class:"mb-2"}),e(f,{class:"align-self-start text-none","prepend-icon":"mdi-logout",variant:"plain",density:"comfortable",onClick:i},{default:t(()=>[h(d(o.$t("signOut")),1)]),_:1})]),_:1})]),_:1}),e(P,{style:{"min-width":"100px","max-width":"100%"}},{default:t(()=>[m("div",ie,d(o.$t("experience")),1),e(y,{class:"d-flex flex-column pa-6 border-sm rounded-lg",variant:"flat"},{default:t(()=>[e($,{class:"px-4 py-0 pb-2"},{default:t(()=>[h(d(o.$t("projects")),1)]),_:1}),e(k,{"show-arrows":""},{default:t(()=>[(r(!0),S(U,null,F(u(s).projects,l=>(r(),x(C,{key:l.id},{default:t(()=>[e(H,{class:"ma-2",project:l,flat:!0},null,8,["project"])]),_:2},1024))),128))]),_:1})]),_:1}),ce,e(y,{class:"d-flex flex-column pa-6 border-sm rounded-lg",variant:"flat"},{default:t(()=>[e($,{class:"px-4 py-0 pb-2"},{default:t(()=>[h(d(o.$t("skills")),1)]),_:1}),e(k,{"show-arrows":""},{default:t(()=>[(r(!0),S(U,null,F(u(s).courses,l=>(r(),x(C,{key:l.id},{default:t(()=>[l.id!=13&&l.id!=14&&l.id!=18?(r(),x(G,{key:0,class:"ma-2",course:l,flat:!0},null,8,["course"])):A("",!0)]),_:2},1024))),128))]),_:1})]),_:1}),ue,m("div",_e,d(o.$t("achievements")),1),e(y,{class:"d-flex flex-column pa-6 border-sm rounded-lg",variant:"flat"},{default:t(()=>[e($,{class:"px-4 py-0 pb-2"},{default:t(()=>[h(d(o.$t("modules")),1)]),_:1}),e(k,{"show-arrows":""},{default:t(()=>[(r(!0),S(U,null,F(u(s).artisan_tokens,l=>(r(),x(C,{key:l.id},{default:t(()=>[e(J,{class:"ma-2",token:l},null,8,["token"])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):A("",!0)}}});export{Ve as default};
