import{o as V,A as C}from"./utils-CMD4rBgk.js";import{_ as $}from"./LocaleSwitcher.vue_vue_type_script_setup_true_lang-owtulb_I.js";import{s as U,A as w,d as B,r as c,j as L,B as j,c as T,e,w as r,F as A,b as o,o as P,g as p,f as S,a as b,t as u,_ as F}from"./index-BC704YaJ.js";import{b as I}from"./base-url-qR72hEjy.js";const N=async m=>{const t=await fetch(`${I}/token`,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:V(m)});if(t.status<200||t.status>=300)throw new Error(t.statusText);const s=await t.json();U(s),w.replace({path:"/projects"})},z={class:"text-subtitle-1 text-medium-emphasis"},D={class:"text-subtitle-1 text-medium-emphasis d-flex align-center justify-space-between"},M=B({__name:"LoginPage",setup(m){const t=c(!1),s=c(!1),l=c({}),v=async n=>{t.value=!0;try{await N(n)}catch(a){alert(`Failed: ${a}`)}finally{t.value=!1}},_=()=>{w.replace({path:"/signup"})},f=n=>{n.key==="Enter"&&v(l.value)};return L(()=>{window.addEventListener("keyup",f)}),j(()=>{window.removeEventListener("keyup",f)}),(n,a)=>{const y=o("v-spacer"),d=o("v-btn"),x=o("v-app-bar"),k=o("v-img"),g=o("v-text-field"),h=o("v-card"),E=o("v-container");return P(),T(A,null,[e(x,{elevation:"0",class:"px-8"},{default:r(()=>[e(y),e($),e(d,{class:"ml-4",color:"black",variant:"tonal",onClick:_},{default:r(()=>[p(" Sign Up ")]),_:1})]),_:1}),e(E,{class:"mt-12"},{default:r(()=>[e(k,{class:"mx-auto my-6","max-width":"64",src:S(C)},null,8,["src"]),e(h,{class:"mx-auto pa-12 pb-8",elevation:"8","max-width":"448",rounded:"lg"},{default:r(()=>[b("div",z,u(n.$t("email")),1),e(g,{modelValue:l.value.username,"onUpdate:modelValue":a[0]||(a[0]=i=>l.value.username=i),type:"email",density:"compact",placeholder:"Email address","prepend-inner-icon":"mdi-email-outline",variant:"outlined"},null,8,["modelValue"]),b("div",D,u(n.$t("password")),1),e(g,{modelValue:l.value.password,"onUpdate:modelValue":a[1]||(a[1]=i=>l.value.password=i),class:"mb-4","append-inner-icon":s.value?"mdi-eye-off":"mdi-eye",type:s.value?"text":"password",density:"compact",placeholder:"Enter your password","prepend-inner-icon":"mdi-lock-outline",variant:"outlined","onClick:appendInner":a[2]||(a[2]=i=>s.value=!s.value)},null,8,["modelValue","append-inner-icon","type"]),e(d,{loading:t.value,disabled:t.value,class:"mb-4",color:"black",size:"large",variant:"flat",block:"",onClick:a[3]||(a[3]=i=>v(l.value))},{default:r(()=>[p(u(n.$t("signIn")),1)]),_:1},8,["loading","disabled"]),e(d,{class:"no-uppercase",color:"black",size:"large",variant:"text",block:"",onClick:_},{default:r(()=>[p(" Don't have an account? ")]),_:1})]),_:1})]),_:1})],64)}}}),J=F(M,[["__scopeId","data-v-a76723d6"]]);export{J as default};
