import{C as B}from"./ClassCard-CPgkvOYH.js";import{C as w}from"./ClassService-BJbp8wX5.js";import{a as D,u as N}from"./useQuery-DUanmItu.js";import{u as Q}from"./dashboard-store-Ce7itRNL.js";import{d as h,r as k,k as E,m as I,b as s,o as r,c as C,e,w as t,g as f,t as u,v as K,_ as L,h as b,a as V,f as y,F as T,p as U}from"./index-D_KheEFR.js";import"./api-client-B58bgvt1.js";import"./base-url-qR72hEjy.js";const j=h({__name:"AddClassFormDialog",setup(F){const o=k(!1),d=k(!1),x=D(),n=k({name:""}),m=E(()=>n.value.name),_=async()=>{if(!m.value)return alert("pleaseFillInAllFields");d.value=!0;try{await w.addClass(n.value.name),x.invalidateQueries({queryKey:["classes"]}),o.value=!1}catch(a){alert(`failedToAddClass: ${a}`)}finally{d.value=!1}};return I(o,a=>{a==!1&&(n.value={name:""})}),(a,l)=>{const i=s("v-btn"),g=s("v-card-title"),v=s("v-text-field"),p=s("v-form"),$=s("v-card-text"),q=s("v-card-actions"),S=s("v-card"),A=s("v-dialog");return r(),C("div",null,[e(i,{color:"green",variant:"flat",onClick:l[0]||(l[0]=c=>o.value=!0)},{default:t(()=>[f(" + "+u(a.$t("add")),1)]),_:1}),e(A,{modelValue:o.value,"onUpdate:modelValue":l[3]||(l[3]=c=>o.value=c),"max-width":"600"},{default:t(()=>[e(S,{class:"pa-4"},{default:t(()=>[e(g,{class:"px-2"},{default:t(()=>[f(u("createNewClass"))]),_:1}),e($,null,{default:t(()=>[e(p,{onSubmit:K(_,["prevent"])},{default:t(()=>[e(v,{modelValue:n.value.name,"onUpdate:modelValue":l[1]||(l[1]=c=>n.value.name=c),type:"text",density:"compact",label:"name",placeholder:a.$t("name"),"prepend-inner-icon":"mdi-pencil",variant:"outlined",required:""},null,8,["modelValue","placeholder"])]),_:1})]),_:1}),e(q,null,{default:t(()=>[e(i,{color:"red darken-1",variant:"text",onClick:l[2]||(l[2]=c=>o.value=!1)},{default:t(()=>[f(u("cancel"))]),_:1}),e(i,{loading:d.value,color:"primary",variant:"flat",disabled:!m.value||d.value,onClick:_},{default:t(()=>[f(u("create"))]),_:1},8,["loading","disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}}),M=L(j,[["__scopeId","data-v-b9e876fa"]]),P={class:"flex justify-between"},z=V("div",{class:"text-h5 pb-6"},"Classes",-1),G={key:1},H={key:2},ee=h({__name:"ClassesView",setup(F){const o=Q(),{setClasses:d}=o,{isPending:x,isError:n,data:m,error:_}=N({queryKey:["classes"],queryFn:async()=>{const a=await w.getClasses();return d(a),a}});return(a,l)=>{const i=s("v-skeleton-loader"),g=s("v-col");return r(),b(g,{style:{"min-width":"300px","max-width":"100%"}},{default:t(()=>{var v;return[V("div",P,[z,e(M)]),y(x)?(r(),b(i,{key:0,type:"list-item-two-line"})):y(n)?(r(),C("div",G,u((v=y(_))==null?void 0:v.message),1)):(r(),C("div",H,[(r(!0),C(T,null,U(y(m),p=>(r(),b(B,{key:p.id,item:p},null,8,["item"]))),128))]))]}),_:1})}}});export{ee as default};
