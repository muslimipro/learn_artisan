import{u as C}from"./useQuery-CEOTNcva.js";import{d as F,l as B,r as k,k as I,m as N,f as a,c as n,t as x,a as c,e as v,w as _,h as j,i as w,b as m,o as t,g as q,F as E,p as K}from"./index-Bb3dzbxj.js";import{P as O}from"./ProjectService-BfDV8h2p.js";import{P as Q}from"./ProjectCard-7a7OR1ex.js";import{S as D}from"./SkillService-Cdh9toXO.js";import{C as U}from"./CourseCard-DQ3P8FrS.js";import"./api-client-DbEzwjDi.js";import"./base-url-qR72hEjy.js";import"./course-content-store-BBDGHKHx.js";const W={key:0},z={key:1},A={key:2},H={class:"d-flex align-center justify-between"},J={class:"text-h5 pb-4"},X={class:"d-flex align-center"},Y={class:"flex flex-wrap gap-8",style:{width:"100%"}},Z=F({__name:"IntroProjectsView",props:{course:{}},setup(S){const{locale:i}=B(),r=k(i.value),f=S,e=I(()=>f.course),u=k([]),s=k({}),{isPending:y,isError:P,data:$,error:h,refetch:p}=C({queryKey:[`skill/intro/${e.value.id}`,r.value],queryFn:async()=>{const o=await D.getCourseInfoByID(e.value.id.toString());return u.value=o.modules[0].topics.map(l=>({id:e.value.id,name:l.name,description:"",cover_image:e.value.cover_image,prereqs:[],status:e.value.status,total_steps_count:e.value.total_steps_count,completed_steps_count:e.value.completed_steps_count,accessed_steps_count:e.value.accessed_steps_count,last_accessed_topic:e.value.last_accessed_topic})),o},refetchOnWindowFocus:!1});N([()=>i.value,()=>e.value.id],()=>{r.value=i.value,s.value[0]||(s.value[0]=0),p()},{immediate:!0});const V=o=>{s.value[o]>0&&s.value[o]--},g=(o,l)=>{s.value[o]<l-1&&s.value[o]++};return(o,l)=>{const b=m("v-icon"),L=m("v-slide-group-item"),R=m("v-slide-group"),T=m("v-col"),G=m("v-container");return a(y)?(t(),n("div",W," Pending... ")):a(P)?(t(),n("div",z,x(a(h)),1)):a($)?(t(),n("div",A,[c("div",H,[c("div",J,x(o.$t("introToRaspberryPiPico")),1),c("div",X,[v(b,{onClick:l[0]||(l[0]=d=>V(0)),class:"mr-2"},{default:_(()=>[q("mdi-chevron-left")]),_:1}),v(b,{onClick:l[1]||(l[1]=d=>g(0,u.value.length))},{default:_(()=>[q("mdi-chevron-right")]),_:1})])]),c("div",Y,[u.value.length>0?(t(),j(G,{key:0,fluid:"",class:"pa-0"},{default:_(()=>[v(T,{style:{"min-width":"100px","max-width":"100%"},class:"px-0 py-0"},{default:_(()=>[v(R,{modelValue:s.value[0],"onUpdate:modelValue":l[2]||(l[2]=d=>s.value[0]=d),mobile:"","center-active":""},{default:_(()=>[(t(!0),n(E,null,K(u.value,(d,M)=>(t(),j(L,{key:d.id},{default:_(()=>[v(U,{class:"mx-4 my-2",course:d,introIndex:M},null,8,["course","introIndex"])]),_:2},1024))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})):w("",!0)])])):w("",!0)}}}),ee={key:0},te={key:1},se={key:2,class:"flex-col w-full px-16 py-8"},oe=c("br",null,null,-1),le={class:"text-h5 pb-4"},ae={class:"flex flex-wrap justify-center px-4 gap-8"},ne=c("div",{class:"h-8"},null,-1),fe=F({__name:"ProjectsView",setup(S){const{locale:i}=B(),r=k(i.value),{data:f,refetch:e}=C({queryKey:["skills",r.value],queryFn:async()=>await D.getSkills(r.value)}),{isPending:u,isError:s,data:y,error:P,refetch:$}=C({queryKey:["projects",r.value],queryFn:async()=>await O.getProjects(r.value)}),h=I(()=>f.value==null?null:f.value[0].courses.find(p=>p.name=="Micropython")??null);return N(()=>i.value,()=>{r.value=i.value,e(),$()},{immediate:!0}),(p,V)=>a(u)?(t(),n("div",ee," Pending... ")):a(s)?(t(),n("div",te,x(a(P)),1)):a(y)?(t(),n("div",se,[h.value!=null?(t(),j(Z,{key:0,course:h.value},null,8,["course"])):w("",!0),oe,c("div",le,x(p.$t("projects")),1),c("div",ae,[(t(!0),n(E,null,K(a(y),g=>(t(),n("div",{key:g.id},[v(Q,{project:g},null,8,["project"])]))),128))]),ne])):w("",!0)}});export{fe as default};
