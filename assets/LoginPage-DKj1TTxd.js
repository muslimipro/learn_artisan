import{o as E,A as $}from"./utils-CMD4rBgk.js";import{_ as U}from"./LocaleSwitcher.vue_vue_type_script_setup_true_lang-BXN1EzYC.js";import{s as B,A as w,d as L,r as c,j,B as T,h as A,w as s,b as n,o as P,e,g as p,f as S,a as g,t as u,_ as I}from"./index-1utu-OMs.js";import{b as N}from"./base-url-qR72hEjy.js";const z=async m=>{const t=await fetch(`${N}/token`,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:E(m)});if(t.status<200||t.status>=300)throw new Error(t.statusText);const l=await t.json();B(l),w.replace({path:"/projects"})},D={class:"text-subtitle-1 text-medium-emphasis"},F={class:"text-subtitle-1 text-medium-emphasis d-flex align-center justify-space-between"},M=L({__name:"LoginPage",setup(m){const t=c(!1),l=c(!1),i=c({}),v=async o=>{t.value=!0;try{await z(o)}catch(a){alert(`Failed: ${a}`)}finally{t.value=!1}},_=()=>{w.replace({path:"/signup"})},f=o=>{o.key==="Enter"&&v(i.value)};return j(()=>{window.addEventListener("keyup",f)}),T(()=>{window.removeEventListener("keyup",f)}),(o,a)=>{const y=n("v-spacer"),d=n("v-btn"),x=n("v-app-bar"),h=n("v-img"),b=n("v-text-field"),k=n("v-card"),V=n("v-container"),C=n("v-app");return P(),A(C,null,{default:s(()=>[e(x,{elevation:"0",class:"px-8"},{default:s(()=>[e(y),e(U),e(d,{class:"ml-4",color:"black",variant:"tonal",onClick:_},{default:s(()=>[p(" Sign Up ")]),_:1})]),_:1}),e(V,{class:"mt-12"},{default:s(()=>[e(h,{class:"mx-auto my-6","max-width":"64",src:S($)},null,8,["src"]),e(k,{class:"mx-auto pa-12 pb-8",elevation:"8","max-width":"448",rounded:"lg"},{default:s(()=>[g("div",D,u(o.$t("email")),1),e(b,{modelValue:i.value.username,"onUpdate:modelValue":a[0]||(a[0]=r=>i.value.username=r),type:"email",density:"compact",placeholder:"Email address","prepend-inner-icon":"mdi-email-outline",variant:"outlined"},null,8,["modelValue"]),g("div",F,u(o.$t("password")),1),e(b,{modelValue:i.value.password,"onUpdate:modelValue":a[1]||(a[1]=r=>i.value.password=r),class:"mb-4","append-inner-icon":l.value?"mdi-eye-off":"mdi-eye",type:l.value?"text":"password",density:"compact",placeholder:"Enter your password","prepend-inner-icon":"mdi-lock-outline",variant:"outlined","onClick:appendInner":a[2]||(a[2]=r=>l.value=!l.value)},null,8,["modelValue","append-inner-icon","type"]),e(d,{loading:t.value,disabled:t.value,class:"mb-4",color:"black",size:"large",variant:"flat",block:"",onClick:a[3]||(a[3]=r=>v(i.value))},{default:s(()=>[p(u(o.$t("signIn")),1)]),_:1},8,["loading","disabled"]),e(d,{class:"no-uppercase",color:"black",size:"large",variant:"text",block:"",onClick:_},{default:s(()=>[p(" Don't have an account? ")]),_:1})]),_:1})]),_:1})]),_:1})}}}),J=I(M,[["__scopeId","data-v-9e317372"]]);export{J as default};
